---
import BaseLayout from '@/layouts/BaseLayout.astro';
import CTAButton from '@/components/CTAButton.astro';
import SectionHeading from '@/components/SectionHeading.astro';
import InfoCard from '@/components/InfoCard.astro';
import { config } from '@/config';

const title = `${config.brands.creator}ï½œã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼æ”¯æ´`;
const description =
  'AIYuMe Studioã€‚éŸ³æ¥½åˆ¶ä½œãƒ»å‹•ç”»ç·¨é›†ã®ç›¸è«‡çª“å£ã€‚è¦ä»¶æ•´ç†â†’ææ¡ˆâ†’åˆ¶ä½œâ†’ç´å“ã¾ã§ã€ç›®çš„ã«åˆã‚ã›ã¦é€²ã‚ã¾ã™ã€‚';
---

<BaseLayout title={title} description={description}>
  <!-- Hero -->
  <section class="section hero text-center">
    <div class="container">
      <span class="pill-badge">{config.brands.creator}</span>
      <h1 class="h1">
        éŸ³æ¥½ã¨æ˜ åƒã§ã€<br />
        <span class="text-brand">ä¸–ç•Œè¦³</span>ã‚’ã¤ãã‚‹ã€‚
      </h1>
      <p class="lead text-muted">
        SNSãƒ»YouTubeãƒ»ã‚¤ãƒ™ãƒ³ãƒˆãƒ»åºƒå‘Šã€‚<br />
        ç›®çš„ã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æ•´ç†ã—ã€æœ€çŸ­ã§å½¢ã«ã—ã¾ã™ã€‚
      </p>
      <div class="actions justify-center">
        <CTAButton kind="line" label="LINEã§åˆ¶ä½œç›¸è«‡" />
        <a class="btn btn-ghost" href="/contact">ãƒ¡ãƒ¼ãƒ«ã§å•ã„åˆã‚ã›</a>
      </div>
    </div>
  </section>

  <!-- Services -->
  <section class="section bg-surface">
    <div class="container">
      <SectionHeading title="Service" center />
      <div class="grid cols-2">
        <InfoCard title="éŸ³æ¥½åˆ¶ä½œ" icon="ğŸµ">
          <ul class="clean-list">
            <li>BGM / ã‚¸ãƒ³ã‚°ãƒ« / åŠ¹æœéŸ³</li>
            <li>æ­Œã£ã¦ã¿ãŸMIX / ãƒã‚¹ã‚¿ãƒªãƒ³ã‚°</li>
            <li>ç”¨é€”ã«åˆã‚ã›ãŸå°ºãƒ»é›°å›²æ°—ã®ææ¡ˆ</li>
          </ul>
        </InfoCard>
        <InfoCard title="å‹•ç”»ç·¨é›†" icon="ğŸ¬">
          <ul class="clean-list">
            <li>YouTubeå‹•ç”» / ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»</li>
            <li>ã‚«ãƒƒãƒˆ / ãƒ†ãƒ­ãƒƒãƒ— / æ•´éŸ³</li>
            <li>ã‚µãƒ ãƒã‚¤ãƒ«ä½œæˆè£œåŠ©</li>
          </ul>
        </InfoCard>
      </div>
    </div>
  </section>

  <!-- Process -->
  <section class="section compact">
    <div class="container">
      <SectionHeading title="Process" center />
      <div class="steps-grid">
        <div class="step-card">
          <div class="step-num">01</div>
          <h3>ãƒ’ã‚¢ãƒªãƒ³ã‚°</h3>
          <p class="text-muted">ç”¨é€”ãƒ»ç´æœŸãƒ»å‚è€ƒã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…±æœ‰</p>
        </div>
        <div class="step-card">
          <div class="step-num">02</div>
          <h3>ææ¡ˆãƒ»è¦‹ç©</h3>
          <p class="text-muted">æ–¹å‘æ€§ã®ã™ã‚Šåˆã‚ã›</p>
        </div>
        <div class="step-card">
          <div class="step-num">03</div>
          <h3>åˆ¶ä½œãƒ»ç¢ºèª</h3>
          <p class="text-muted">é€²æ—ç¢ºèªã¨ä¿®æ­£ï¼ˆãƒªãƒ†ã‚¤ã‚¯ï¼‰</p>
        </div>
        <div class="step-card">
          <div class="step-num">04</div>
          <h3>ç´å“</h3>
          <p class="text-muted">ãƒ‡ãƒ¼ã‚¿å¼•ãæ¸¡ã—</p>
        </div>
      </div>
      <div class="note text-center mt-4">
        â€»åˆ¶ä½œä¾‹ãƒ»æ–™é‡‘è¡¨ã¯æº–å‚™ä¸­ã§ã™ã€‚ã¾ãšã¯LINEã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ï¼ˆè¦‹ç©ç„¡æ–™ï¼‰ã€‚
      </div>
    </div>
  </section>

  <section class="section-sm">
    <div class="container">
      <div class="card note-card">
        <SectionHeading title="Studio Note" subtitle="æ©Ÿæé¸ã³ã®å®Ÿç”¨è¨˜äº‹" />
        <h3 class="h3 mb-4">CANARE GS-6 ã‚·ãƒ¼ãƒ«ãƒ‰ã‚±ãƒ¼ãƒ–ãƒ«ã‚’ãŠã™ã™ã‚ã™ã‚‹ç†ç”±</h3>
        <p class="text-muted mb-8">
          AIYuMe Studioã®åˆ¶ä½œç¾å ´ã§ã€ãƒˆãƒ©ãƒ–ãƒ«ã‚’æ¸›ã‚‰ã—ã‚„ã™ã„æ©Ÿæã¨ã—ã¦ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚
        </p>
        <a class="btn btn-outline" href="/articles/studio-canare-gs6">è¨˜äº‹ã‚’èª­ã‚€</a>
      </div>
    </div>
  </section>

  <section class="section-sm">
    <div class="container">
      <div class="card note-card game-note">
        <SectionHeading title="Creator Game Lab" subtitle="ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å®Ÿé¨“" />
        <h3 class="h3 mb-4">VOID-RUSHï¼ˆè©¦ä½œï¼‰</h3>
        <p class="text-muted mb-8">
          ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼éƒ¨é–€ã®å®Ÿé¨“ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‚²ãƒ¼ãƒ ã‚’å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚
          é‹ç”¨ä¸­ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’å‰æã«ã€å®šæœŸçš„ã«æ©Ÿèƒ½è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚
        </p>
        <div class="actions justify-center">
          <a class="btn btn-outline" href="/creator/void-rush/">ã‚²ãƒ¼ãƒ ã‚’é–‹ã</a>
          <a class="btn btn-ghost" href="/creator/void-rush/" target="_blank" rel="noopener noreferrer">æ–°ã—ã„ã‚¿ãƒ–ã§é–‹ã</a>
        </div>
      </div>
    </div>
  </section>

  <section class="section-sm">
    <div class="container">
      <div class="card note-card leaderboard-note">
        <SectionHeading title="VOID-RUSH Leaderboard" subtitle="Season S0" />
        <p class="text-muted mb-8">
          APIé€£æºã§é›†è¨ˆã—ãŸæœ€æ–°ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
        </p>
        <ol id="vr-leaderboard" class="leaderboard-list">
          <li class="leaderboard-empty">èª­ã¿è¾¼ã¿ä¸­...</li>
        </ol>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="section">
    <div class="container text-center">
      <div class="card cta-box">
        <h2 class="h2">åˆ¶ä½œã®ã”ä¾é ¼ãƒ»ã”ç›¸è«‡</h2>
        <p class="text-muted mb-8">
          ã€Œä½•ã‚’ã©ã†é ¼ã‚ã°ã„ã„ã‹åˆ†ã‹ã‚‰ãªã„ã€çŠ¶æ…‹ã§ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚<br />
          ã“ã¡ã‚‰ã§è¦ä»¶ã‚’åˆ†è§£ã—ã¦ææ¡ˆã—ã¾ã™ã€‚
        </p>
        <CTAButton kind="line" label="LINEã§ç›¸è«‡ã™ã‚‹" />
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .hero {
    padding-top: 4rem;
    padding-bottom: 4rem;
  }
  .pill-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 99px;
    background: rgba(99, 102, 241, 0.1);
    color: var(--brand);
    font-size: 0.875rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(99, 102, 241, 0.2);
  }
  .lead {
    font-size: 1.125rem;
    margin-bottom: 2rem;
  }
  .actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }
  .justify-center {
    justify-content: center;
  }
  .bg-surface {
    background: rgba(30, 41, 59, 0.3);
  }
  .clean-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .clean-list li {
    padding: 0.25rem 0;
    color: var(--text-muted);
  }
  .steps-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
  }
  .step-card {
    background: rgba(30, 41, 59, 0.4);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 1.5rem;
    text-align: center;
  }
  .step-num {
    font-size: 2rem;
    font-weight: 900;
    color: var(--border);
    line-height: 1;
    margin-bottom: 0.5rem;
  }
  .cta-box {
    padding: 3rem;
  }
  .note-card {
    max-width: 780px;
    margin: 0 auto;
  }
  .game-note {
    border-color: color-mix(in srgb, var(--brand), transparent 70%);
    background: linear-gradient(135deg, color-mix(in srgb, var(--brand), transparent 92%), rgba(30, 41, 59, 0.45));
  }
  .leaderboard-note {
    border-color: rgba(34, 211, 238, 0.35);
  }
  .leaderboard-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: 0.6rem;
  }
  .leaderboard-list li {
    display: grid;
    grid-template-columns: 40px 1fr auto;
    align-items: center;
    gap: 0.75rem;
    padding: 0.65rem 0.8rem;
    border: 1px solid var(--border);
    border-radius: 10px;
    background: rgba(2, 6, 23, 0.5);
    font-size: 0.95rem;
  }
  .leader-rank {
    font-weight: 800;
    color: #22d3ee;
  }
  .leader-name {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
    font-size: 0.8rem;
    color: var(--text-muted);
  }
  .leader-score {
    font-weight: 700;
    color: #facc15;
  }
  .leaderboard-empty {
    color: var(--text-muted);
    text-align: center;
    grid-template-columns: 1fr !important;
  }
  .mt-4 { margin-top: 2rem; }
  .mb-8 { margin-bottom: 2rem; }
</style>

<script is:inline>
  (function () {
    const listEl = document.getElementById('vr-leaderboard');
    if (!listEl) return;

    async function loadLeaderboard() {
      try {
        const res = await fetch('/api/voidrush/progression/leaderboard?limit=5', { cache: 'no-store' });
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const data = await res.json();
        const rows = Array.isArray(data?.rows) ? data.rows : [];
        const esc = (v) => String(v)
          .replaceAll('&', '&amp;')
          .replaceAll('<', '&lt;')
          .replaceAll('>', '&gt;')
          .replaceAll('"', '&quot;')
          .replace(/'/g, '&#39;');

        if (rows.length === 0) {
          listEl.innerHTML = '<li class=\"leaderboard-empty\">ã¾ã ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“</li>';
          return;
        }

        listEl.innerHTML = rows.map((row) => {
          const rank = Number(row.rank || 0);
          const player = esc(String(row.playerId || '').slice(0, 16));
          const score = Number(row.seasonScore || 0);
          return `
            <li>
              <span class=\"leader-rank\">#${rank}</span>
              <span class=\"leader-name\">${player}</span>
              <span class=\"leader-score\">${score}</span>
            </li>
          `;
        }).join('');
      } catch {
        listEl.innerHTML = '<li class=\"leaderboard-empty\">ãƒ©ãƒ³ã‚­ãƒ³ã‚°å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ</li>';
      }
    }

    loadLeaderboard();
  })();
</script>
